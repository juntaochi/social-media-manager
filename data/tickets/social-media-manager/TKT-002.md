---
tkt_id: TKT-002
title: "The Battle of the Timezones"
status: "approved"
locked_by: ""
locked_at: ""
typefully_draft_id: "7807755"
published_url: "https://typefully.com/?d=7807755&a=276322"
published: "2026-01-13T13:52:33Z"
draft_path: "data/drafts/TKT-002_draft.md"
draft_content: "spent 3 hours debugging why notion sync wasn't working. thought the API was broken. turns out my server was in UTC and the timestamps I was comparing were local time. one line fix after 3 hours. classic"
---

# The Battle of the Timezones

## The Story
I spent way too long debugging why my Notion sync wasn't picking up status changes. I thought the API was broken or my auth was failing. Turns out, it was the classic "Server in UTC, Client in Local" trap. One line of code to normalize timestamps fixed hours of frustration. It's always the small things that get you.

## Deep Dive Findings
- **Root Cause**: The issue occurred in `scripts/bridge_tickets.py` during timestamp comparisons for detecting updates. The local machine was operating in local time while Notion/Server data used UTC.
- **Complexity**: It wasn't just a simple timezone fix; the sync bridge had to be updated to ensure `datetime.now()` calls were consistent with Notion's UTC-based responses.
- **Relatability**: This is a classic "rite of passage" for developers building distributed or cloud-integrated systems.

## Suggested Frame
"Okay so I tried X and..." / "I just figured out X"

## Key Details
- Debugging session for `scripts/bridge_tickets.py`.
- Issue: Notion sync ignoring updates due to timestamp comparisons.
- Root cause: Timezone mismatch between local dev machine and server/API expectations.
- Resolution: Normalized everything to UTC.

## Media Opportunity
- A "classic" meme or a screenshot of the specific diff where `datetime.now()` was replaced.

## Reference
- Files: scripts/bridge_tickets.py
